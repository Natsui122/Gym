@if(!loginUsuario) {
  <div class="container">
    <div class="formulario">
      <form>
        <div>
          <label for="usuario" class="text-oro">Nombre de Usuario</label>
          <input type="text" name="username" [(ngModel)]="usuario.username" class="form-control">
        </div>
        <div>
          <label for="password" class="text-oro">Contraseña</label>
          <input type="password" name="password" [(ngModel)]="usuario.password" class="form-control">
        </div>
        <button type="button" class="btn-oro" (click)="login()">Enviar</button>
      </form>
    </div>
  </div>
}
@else {
  <div class="container">
    <div class="formulario">
      <h1 class="text-oro">Bienvenido {{usuario.username}}</h1>
      <button type="button" class="btn-oro" (click)="logout()">Cerrar Sesión</button>
    </div>
  </div>

  <div class="formulario" style="margin-top: 2rem;">
    <h2 class="text-oro">Mensajes de Contacto</h2>
    <table class="tabla-oro">
      <thead>
        <tr>
          <th>Nombre</th><th>Email</th><th>Asunto</th><th>Mensaje</th><th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        @for(mensaje of mensajesContacto; track mensaje; let j = $index) {
          @if(editandoContacto === j) {
            <tr>
              <td><input [(ngModel)]="contactoEditado.nombre" class="form-control"></td>
              <td><input [(ngModel)]="contactoEditado.email" class="form-control"></td>
              <td><input [(ngModel)]="contactoEditado.asunto" class="form-control"></td>
              <td><input [(ngModel)]="contactoEditado.mensaje" class="form-control"></td>
              <td>
                <button class="btn-oro" (click)="guardarContacto(j)">Guardar</button>
                <button class="btn-cancelar" (click)="cancelarEdicionContacto()">Cancelar</button>
              </td>
            </tr>
          } @else {
            <tr>
              <td>{{mensaje.nombre}}</td>
              <td>{{mensaje.email}}</td>
              <td>{{mensaje.asunto}}</td>
              <td>{{mensaje.mensaje}}</td>
              <td>
                <button class="btn-oro" (click)="editarContacto(j)">Editar</button>
                <button class="btn-cancelar" (click)="eliminarContacto(j)">Eliminar</button>
              </td>
            </tr>
          }
        }
      </tbody>
    </table>

    <h2 class="text-oro">Suscripciones</h2>
    <table class="tabla-oro">
      <thead>
        <tr>
          <th>Nombre</th><th>Teléfono</th><th>Clase</th><th>Fecha</th><th>Publicidad</th><th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        @for(suscripcion of suscripciones; track suscripcion; let i = $index) {
          @if(editandoSuscripcion === i) {
            <tr>
              <td><input [(ngModel)]="suscripcionEditada.nombre" class="form-control"></td>
              <td><input [(ngModel)]="suscripcionEditada.telefono" class="form-control"></td>
              <td><input [(ngModel)]="suscripcionEditada.clase" class="form-control"></td>
              <td><input type="date" [(ngModel)]="suscripcionEditada.fecha" class="form-control"></td>
              <td><input type="checkbox" [(ngModel)]="suscripcionEditada.publicidad"></td>
              <td>
                <button class="btn-oro" (click)="guardarSuscripcion(i)">Guardar</button>
                <button class="btn-cancelar" (click)="cancelarEdicionSuscripcion()">Cancelar</button>
              </td>
            </tr>
          } @else {
            <tr>
              <td>{{suscripcion.nombre}}</td>
              <td>{{suscripcion.telefono}}</td>
              <td>{{suscripcion.clase}}</td>
              <td>{{suscripcion.fecha}}</td>
              <td>{{suscripcion.publicidad ? 'Sí' : 'No'}}</td>
              <td>
                <button class="btn-oro" (click)="editarSuscripcion(i)">Editar</button>
                <button class="btn-cancelar" (click)="eliminarSuscripcion(i)">Eliminar</button>
              </td>
            </tr>
          }
        }
      </tbody>
    </table>
  </div>
}
